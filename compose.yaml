services:

  protocol:
    environment:
      - LOGLEVEL
      - MAC
    volumes:
      - ./data:/data:rw
      - ./frontend:/frontend:rw
      - ./local:/local:rw
      - /etc/localtime:/etc/localtime

  web:
    image: caddy
    restart: unless-stopped
    volumes:
      - ./frontend:/frontend:ro
      - ./dev/Caddyfile:/etc/caddy/Caddyfile:ro
      - /etc/localtime:/etc/localtime
      - caddy_config:/config
    ports:
      - 11221:8080

volumes:
  caddy_config:
