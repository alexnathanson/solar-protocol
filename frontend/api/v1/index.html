 <!DOCTYPE html>
<html>
<head>

<meta charset="UTF-8">

<title>Open API Documentation</title>
</head>
<body>

 <script src="chargeControllerExplorer.js"></script> 

<h1>Solar Protocol - Open API Documentation</h1>
<p>
	Note: This is the publicly available open-access API, developers on the network can view the complete API documentation on <a href="https://github.com/alexnathanson/solar-protocol/blob/master/API.md" target="_blank">Github</a>.
</p>

There are 4 types of data this interface provides.
<ol>
	<li>Individual values</li>
	<li>Individual lines of data containing all the given values for a particular time</li>
	<li>An entire day's worth of data</li>
	<li>System information</li>
</ol>
The results from these API calls are displayed in the browser console. (fn + f12 to open console on most browsers)

<h2>Value</h2>
<strong>value</strong> returns the specified value from the most recently collected line of data
<p>Example: <a href="http://solarprotocol.net/api/v1/chargecontroller.php?value=PV-voltage" target="_blank">http://solarprotocol.net/api/v1/chargecontroller.php?value=PV-voltage</a></p>
<p>Possible values:
	<ul>
		<li>PV-current</li>
		<li>PV-current</li>
		<li>PV-power-H</li>
		<li>PV-power-L</li>
		<li>PV-voltage</li>
		<li>battery-percentage</li>
		<li>battery-voltage</li>
		<li>charge-current</li>
		<li>charge-power-H</li>
		<li>charge-power-L</li>
		<li>load-current</li>
		<li>load-power</li>
		<li>load-voltage</li>
		<li>datetime</li>
	</ul>
</p>
Optional modifier: <strong>duration</strong> returns the specified value over a given amount of days up to 7.
<p>
Example: <a href="http://solarprotocol.net/api/v1/chargecontroller.php?value=PV-voltage&duration=2" target="_blank">http://solarprotocol.net/api/v1/chargecontroller.php?value=PV-voltage&duration=2</a>
</p>

<form method="GET">
  <p>Value <input type="text" name="value"></p>
  <p>Duration (optional) <input type="text" name="duration"></p>
  <button type="submit">Get Value</button>
</form>

<h2>Line</h2>

<strong>line</strong> returns a line of data containing all of the possible vlaues. The specified line from the current data logger file with headers in JSON format
<p>Example: <a href="http://solarprotocol.net/api/v1/chargecontroller.php?line=0" target="_blank">http://solarprotocol.net/api/v1/chargecontroller.php?line=0</a></p>
<p>Possible values:
	<ul>
		<li>len - returns the number of rows in the file</li>
		<li>head - returns the column headers</li>
		<li>[line number] - returns the specified line of data. For example, 0 will return the most recent row of data, 1 will return the 2nd most recent row, etc.</li>
	</ul>
</p>
<form method="GET">
  <p>Line <input type="text" name="line"></p>
  <button type="submit">Get Line</button>
</form>

<h2>Day</h2>

<strong>day</strong> returns all the data from a specific day or range of days
<p>Example: <a href="http://solarprotocol.net/api/v1/chargecontroller.php?day=2" target="_blank">http://solarprotocol.net/api/v1/chargecontroller.php?day=2</a></p>
<p>Possible values:
	<ul>
		<li>1 - returns present day data</li>
		<li>2 - returns present day + previous day</li>
		<li>3 - returns present day + previous 2 days</li>
		<li>4 - returns present day + previous 3 days</li>
		<li>5 - returns present day + previous 4 days</li>
		<li>6 - returns present day + previous 5 days</li>
		<li>7 - returns present day + previous 6 days</li>
		<li>list - returns list of all CC files</li>
		<li>len - return count of all CC files</li>
		<li>[file name without file suffix] - example: /api/v1/chargecontroller.php?day=tracerData2020-05-17</li>
	</ul>
</p>

<form method="GET">
 <p>Day <input type="text" name="day"></p>
  <p></p>
  <button type="submit">Get Day</button>
</form>

<h2>System Info</h2>

<strong>systemInfo</strong> returns information about the system.
<p>Example: <a href="http://solarprotocol.net/api/v1/chargecontroller.php?systemInfo=tz" target="_blank">http://solarprotocol.net/api/v1/chargecontroller.php?systemInfo=tz</a></p>
<p>Possible values:
	<ul>
		<li>tz - returns the timezone for the server</li>
	</ul>
</p>

<form method="GET">
 <p>System Info <input type="text" name="systemInfo"></p>
  <p></p>
  <button type="submit">Get System Info</button>
</form>


</body>
</html> 