(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"+oIS":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n);t.a=function(e){var t=e.blockTitle,a=e.blockContent;return r.a.createElement("section",{className:"further"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},r.a.createElement("h2",null,t)),r.a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-12"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.childMarkdownRemark.html}}))))}},"5HML":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),l=a("9eSz"),c=a.n(l);t.a=function(e){var t=e.slides;e.length;return r.a.createElement("div",{id:"myCarousel",className:"row carousel slide","data-ride":"carousel"},r.a.createElement("ol",{className:"carousel-indicators"},t.map((function(e,t){e.sizes;var a=t,n=0===t?"active":"";return r.a.createElement("li",{"data-target":"#myCarousel","data-slide-to":a,className:n})}))),r.a.createElement("div",{className:"carousel-inner",role:"listbox"},t.map((function(e,t){var a=e.fluid,n=e.description,l=0===t?"carousel-item active":"carousel-item";return r.a.createElement("div",{className:l},r.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},r.a.createElement("div",{className:"image-wrapper 3-col"},r.a.createElement(c.a,{alt:"FeaturedImage",fluid:Object.assign({},a,{aspectRatio:16/9})})),r.a.createElement("p",null,n)))}))),r.a.createElement("a",{className:"carousel-control-prev",href:"#myCarousel",role:"button","data-slide":"prev"},r.a.createElement("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Previous")),r.a.createElement("a",{className:"carousel-control-next",href:"#myCarousel",role:"button","data-slide":"next"},r.a.createElement("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),r.a.createElement("span",{className:"sr-only"},"Next")))}},d0S5:function(e,t,a){"use strict";a.r(t);var n=a("dI71"),r=a("q1tI"),l=a.n(r),c=a("TJpk"),o=a.n(c),s=a("mwIZ"),i=a.n(s),u=a("9eSz"),d=a.n(u),m=a("Bl7J"),p=a("+oIS"),E=a("5HML"),f=a("HaE+"),h=a("o0o1"),v=a.n(h),w="https://js.stripe.com/v3",S=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,N="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",M=null,T=function(e){return null!==M?M:M=new Promise((function(t,a){if("undefined"!=typeof window)if(window.Stripe&&e&&console.warn(N),window.Stripe)t(window.Stripe);else try{var n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(w,'"]')),t=0;t<e.length;t++){var a=e[t];if(S.test(a.src))return a}return null}();n&&e?console.warn(N):n||(n=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",a=document.createElement("script");a.src="".concat(w).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(a),a}(e)),n.addEventListener("load",(function(){window.Stripe?t(window.Stripe):a(new Error("Stripe.js not available"))})),n.addEventListener("error",(function(){a(new Error("Failed to load Stripe.js"))}))}catch(r){return void a(r)}else t(null)}))},C=function(e,t,a){if(null===e)return null;var n=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:t})}(n,a),n},I=Promise.resolve().then((function(){return T(null)})),G=!1;I.catch((function(e){G||console.warn(e)}));var g,A={fontSize:".9em",textAlign:"center",color:"#000",padding:"8px 12px",letterSpacing:"0.1em",textTransform:"uppercase",border:"#000 2px solid",borderRadius:"5px",background:"transparent"},y={opacity:"0.5",cursor:"not-allowed"},b=["AC","AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CV","CW","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MK","ML","MM","MN","MO","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SZ","TA","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","US","UY","UZ","VA","VC","VE","VG","VN","VU","WF","WS","XK","YE","YT","ZA","ZM","ZW","ZZ"],x=function(){return g||(g=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];G=!0;var n=Date.now();return I.then((function(e){return C(e,t,n)}))}("pk_live_51IXVC9J1sNuO02XTR3AxFKGn0GtuGs7McfAYWT6l3rG9MwFmW2T2v7h5Vks9lx5j7fPsLGoNDxY0fTGRtej2gGxK00XjHsV49X")),g},B=function(e){var t=e.slug,a=e.priceID,n="undefined"!=typeof window?window.location.origin:"";n=n+"/edition/"+t;var c=Object(r.useState)(!1),o=c[0],s=c[1],i=function(){var e=Object(f.a)(v.a.mark((function e(t){var r,l,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s(!0),e.next=4,x();case 4:return r=e.sent,e.next=7,r.redirectToCheckout({mode:"payment",lineItems:[{price:a,quantity:1}],shippingAddressCollection:{allowedCountries:b},successUrl:n+"?checkout=success",cancelUrl:n+"?checkout=cancel"});case 7:l=e.sent,(c=l.error)&&(console.warn("Error:",c),s(!1));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement("button",{disabled:o,style:o?Object.assign({},A,y):A,onClick:i},"Buy the edition")},L=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).getChechoutStatus=function(){var e="undefined"!=typeof window?window.location.href:"";return e.indexOf("checkout")>0?e.substr(e.indexOf("=")+1):"initial"},t}return Object(n.a)(t,e),t.prototype.render=function(){var e,t,a=i()(this.props,"data.contentfulEdition");e=null!=a.editionImpressionsSlideshow?l.a.createElement(E.a,{slides:a.editionImpressionsSlideshow,length:a.editionImpressionsSlideshow.length}):l.a.createElement(d.a,{alt:"FeaturedImage",fluid:Object.assign({},a.featuredImage.fluid,{aspectRatio:16/9})}),a.furtherInformationBlocks&&(t=a.furtherInformationBlocks.map((function(e){var t=e.id,a=e.title,n=e.childContentfulContentBlockBlockContentTextNode;return l.a.createElement(p.a,{key:t,blockTitle:a,blockContent:n})})));var n,r=this.getChechoutStatus();return a.stripePriceId&&(n="success"===r?l.a.createElement("div",{className:"alert alert-success"},l.a.createElement("p",null,l.a.createElement("strong",null,"Thank you for your purchase.")),l.a.createElement("p",null,"Once we receive your payment, we will contact you for shipping details."),l.a.createElement("p",null," Enjoy the edition!")):l.a.createElement(B,{slug:a.slug,priceID:a.stripePriceId})),l.a.createElement(m.a,null,l.a.createElement("main",null,l.a.createElement(o.a,{title:""+a.title}),l.a.createElement("section",{className:"head"},l.a.createElement("div",{className:"row headline"},l.a.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},l.a.createElement("h1",null,a.title),l.a.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:a.subtitleShortDescription.childMarkdownRemark.html}}),e))),l.a.createElement("section",{className:"further"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 col-sm-4 col-xs-12"},l.a.createElement("h2",null,"About the edition"),n),l.a.createElement("div",{className:"col-md-8 col-sm-8 col-xs-12"},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:a.description.childMarkdownRemark.html}})))),t))},t}(l.a.Component);t.default=L}}]);
//# sourceMappingURL=component---src-templates-edition-js-1d936fcbf043874ab087.js.map