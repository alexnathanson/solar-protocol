{"version":3,"file":"component---src-templates-edition-js-3315401ffc46e5ade394.js","mappings":"iJAiBA,IAfqBA,IAAA,IAAC,WAAEC,EAAU,aAAEC,GAAcF,EAAA,OAC1CG,EAAAA,cAAA,WAASC,UAAU,WACjBD,EAAAA,cAAA,OAAKC,UAAU,OACbD,EAAAA,cAAA,OAAKC,UAAU,+BACLD,EAAAA,cAAA,UAAKF,IAEfE,EAAAA,cAAA,OAAKC,UAAU,+BACZD,EAAAA,cAAA,OAAKE,wBAAyB,CAC7BC,OAAQJ,EAAaK,oBAAoBC,UAIvC,C,+CCsClB,IAhDkBR,IAAA,IAAC,OAACS,EAAM,OAAEC,GAAOV,EAAA,OACjCG,EAAAA,cAAA,OAAKQ,GAAG,aAAaP,UAAU,qBAAqB,YAAU,YAG5DD,EAAAA,cAAA,MAAIC,UAAU,uBACXK,EAAOG,KAAI,CAAAC,EAAUC,KAAY,IAArB,MAACC,GAAMF,EAClB,IAAIG,EAAQF,EACRG,EAAiB,IAAVH,EAAe,SAAW,GACrC,OACEX,EAAAA,cAAA,MAAI,cAAY,cAAc,gBAAea,EAAOZ,UAAWa,GAAU,KAM/Ed,EAAAA,cAAA,OAAKC,UAAU,iBAAiBc,KAAK,WAElCT,EAAOG,KAAI,CAAAO,EAAiCL,KAAY,IAA5C,gBAACM,EAAe,YAAEC,GAAYF,EACzC,IAAIF,EAAiB,IAAVH,EAAe,uBAAyB,gBACnD,OACEX,EAAAA,cAAA,OAAKC,UAAWa,GACdd,EAAAA,cAAA,OAAKC,UAAU,iCACXD,EAAAA,cAAA,OAAKC,UAAU,uBACXD,EAAAA,cAACmB,EAAAA,EAAW,CAACC,IAAI,gBAAgBC,MAAOJ,EAAiBK,YAAa,GAAG,KAE7EtB,EAAAA,cAAA,SAAIkB,IAEJ,KAUZlB,EAAAA,cAAA,KAAGC,UAAU,wBAAwBsB,KAAK,cAAcR,KAAK,SAAS,aAAW,QAC7Ef,EAAAA,cAAA,QAAMC,UAAU,6BAA6B,cAAY,SACzDD,EAAAA,cAAA,QAAMC,UAAU,WAAU,aAE9BD,EAAAA,cAAA,KAAGC,UAAU,wBAAwBsB,KAAK,cAAcR,KAAK,SAAS,aAAW,QAC7Ef,EAAAA,cAAA,QAAMC,UAAU,6BAA6B,cAAY,SACzDD,EAAAA,cAAA,QAAMC,UAAU,WAAU,SAE1B,C,iKCjDJuB,EAAS,2BACTC,EAAe,4CACfC,EAA0B,mJA2C1BC,EAAgB,KAChBC,EAAa,SAAoBC,GAEnC,OAAsB,OAAlBF,IAIJA,EAAgB,IAAIG,SAAQ,SAAUC,EAASC,GAC7C,GAAsB,oBAAXC,QAA8C,oBAAbC,SAW5C,GAJID,OAAOE,QAAUN,GACnBO,QAAQC,KAAKX,GAGXO,OAAOE,OACTJ,EAAQE,OAAOE,aAIjB,IACE,IAAIG,EAnEO,WAGf,IAFA,IAAIC,EAAUL,SAASM,iBAAiB,gBAAiBC,OAAOjB,EAAQ,OAE/DkB,EAAI,EAAGA,EAAIH,EAAQhC,OAAQmC,IAAK,CACvC,IAAIJ,EAASC,EAAQG,GAErB,GAAKjB,EAAakB,KAAKL,EAAOM,KAI9B,OAAON,CACT,CAEA,OAAO,IACT,CAqDmBO,GAETP,GAAUT,EACZO,QAAQC,KAAKX,GACHY,IACVA,EAxDW,SAAsBT,GACvC,IAAIiB,EAAcjB,IAAWA,EAAOkB,qBAAuB,8BAAgC,GACvFT,EAASJ,SAASc,cAAc,UACpCV,EAAOM,IAAM,GAAGH,OAAOjB,GAAQiB,OAAOK,GACtC,IAAIG,EAAaf,SAASgB,MAAQhB,SAASiB,KAE3C,IAAKF,EACH,MAAM,IAAIG,MAAM,+EAIlB,OADAH,EAAWI,YAAYf,GAChBA,CACT,CA4CiBgB,CAAazB,IAGxBS,EAAOiB,iBAAiB,QAAQ,WAC1BtB,OAAOE,OACTJ,EAAQE,OAAOE,QAEfH,EAAO,IAAIoB,MAAM,2BAErB,IACAd,EAAOiB,iBAAiB,SAAS,WAC/BvB,EAAO,IAAIoB,MAAM,4BACnB,GACF,CAAE,MAAOI,GAEP,YADAxB,EAAOwB,EAET,MAnCEzB,EAAQ,KAoCZ,KA3CSJ,CA6CX,EAaI8B,EAAkB3B,QAAQC,UAAU2B,MAAK,WAC3C,OAAO9B,EAAW,KACpB,IACI+B,GAAa,EACjBF,EAAuB,OAAE,SAAUG,GAC5BD,GACHvB,QAAQC,KAAKuB,EAEjB,IChHA,MAEMC,EAAe,CACnBC,SAAU,OACVC,UAAW,SACXC,MAAO,OACPC,QAAS,WACTC,cAAe,QACfC,cAAe,YACfC,OAAQ,iBACRC,aAAc,MACdC,WAAY,eAGRC,EAAuB,CAC3BC,QAAS,MACTC,OAAQ,eAKJC,EAAiB,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAA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","sources":["webpack://panke-gallery-website/./src/components/content-block.js","webpack://panke-gallery-website/./src/components/slideshow.js","webpack://panke-gallery-website/./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://panke-gallery-website/./src/components/checkout.js","webpack://panke-gallery-website/./src/templates/edition.js"],"sourcesContent":["import React from 'react'\n\nconst ContentBlock = ({ blockTitle, blockContent }) => (\n        <section className=\"further\">\n          <div className=\"row\">\n            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n                      <h2>{blockTitle}</h2>\n                  </div>\n            <div className=\"col-md-8 col-sm-8 col-xs-12\">\n              {<div dangerouslySetInnerHTML={{\n                __html: blockContent.childMarkdownRemark.html\n              }} />}\n          </div>\n          </div>\n        </section>\n)\n\nexport default ContentBlock\n","import React from 'react'\nimport { GatsbyImage } from 'gatsby-plugin-image'\n//import Carousel from 'react-responsive-carousel'\n\nconst Slideshow = ({slides, length}) => (\n  <div id=\"myCarousel\" className=\"row carousel slide\" data-ride=\"carousel\">\n\n    {/* Indicators */}\n    <ol className=\"carousel-indicators\">\n      {slides.map(({sizes}, index ) => {\n        var sldto = index;\n        var cls = (index === 0) ? 'active' : '';\n        return (\n          <li data-target=\"#myCarousel\" data-slide-to={sldto} className={cls}></li>\n        )\n      })}\n    </ol>\n\n    {/* Wrapper for slides */}\n    <div className=\"carousel-inner\" role=\"listbox\">\n\n      {slides.map(({gatsbyImageData, description}, index ) => {\n        var cls = (index === 0) ? 'carousel-item active' : 'carousel-item';\n        return (\n          <div className={cls}>\n            <div className=\"col-md-12 col-sm-12 col-xs-12\">\n                <div className=\"image-wrapper 3-col\">\n                    <GatsbyImage alt=\"FeaturedImage\" image={gatsbyImageData} aspectratio={16/9} />\n                </div>\n                <p>{description}</p>\n            </div>\n          </div>\n        )\n      })}\n\n\n\n    </div>\n\n    {/* Left and right controls */}\n\n    <a className=\"carousel-control-prev\" href=\"#myCarousel\" role=\"button\" data-slide=\"prev\">\n        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n        <span className=\"sr-only\">Previous</span>\n    </a>\n    <a className=\"carousel-control-next\" href=\"#myCarousel\" role=\"button\" data-slide=\"next\">\n        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n        <span className=\"sr-only\">Next</span>\n    </a>\n  </div>\n\n)\nexport default Slideshow\n","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.54.2\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","import React, { useState } from 'react'\nimport { loadStripe } from '@stripe/stripe-js'\n\nconst STRIPE_PUBLISHABLE_KEY = process.env.GATSBY_STRIPE_PUBLISHABLE_LIVE_KEY;\n\nconst buttonStyles = {\n  fontSize: '.9em',\n  textAlign: 'center',\n  color: '#000',\n  padding: '8px 12px',\n  letterSpacing: '0.1em',\n  textTransform: 'uppercase',\n  border: '#000 2px solid',\n  borderRadius: '5px',\n  background: 'transparent'\n}\n\nconst buttonDisabledStyles = {\n  opacity: '0.5',\n  cursor: 'not-allowed',\n}\n\n//const EUCountries = ['AT', 'BE', 'HR', 'BG', 'CY', 'CZ', 'DK', 'EE', 'FI', 'FR', 'DE', 'GR', 'HU', 'IE', 'IT', 'LV', 'LT', 'LU', 'MT', 'NL', 'PL', 'PT', 'RO', 'SK', 'SI', 'ES', 'SE', 'GB']\n\nconst worldCountries = ['AC', 'AD', 'AE', 'AF', 'AG', 'AI', 'AL', 'AM', 'AO', 'AQ', 'AR', 'AT', 'AU', 'AW', 'AX', 'AZ', 'BA', 'BB', 'BD', 'BE', 'BF', 'BG', 'BH', 'BI', 'BJ', 'BL', 'BM', 'BN', 'BO', 'BQ', 'BR', 'BS', 'BT', 'BV', 'BW', 'BY', 'BZ', 'CA', 'CD', 'CF', 'CG', 'CH', 'CI', 'CK', 'CL', 'CM', 'CN', 'CO', 'CR', 'CV', 'CW', 'CY', 'CZ', 'DE', 'DJ', 'DK', 'DM', 'DO', 'DZ', 'EC', 'EE', 'EG', 'EH', 'ER', 'ES', 'ET', 'FI', 'FJ', 'FK', 'FO', 'FR', 'GA', 'GB', 'GD', 'GE', 'GF', 'GG', 'GH', 'GI', 'GL', 'GM', 'GN', 'GP', 'GQ', 'GR', 'GS', 'GT', 'GU', 'GW', 'GY', 'HK', 'HN', 'HR', 'HT', 'HU', 'ID', 'IE', 'IL', 'IM', 'IN', 'IO', 'IQ', 'IS', 'IT', 'JE', 'JM', 'JO', 'JP', 'KE', 'KG', 'KH', 'KI', 'KM', 'KN', 'KR', 'KW', 'KY', 'KZ', 'LA', 'LB', 'LC', 'LI', 'LK', 'LR', 'LS', 'LT', 'LU', 'LV', 'LY', 'MA', 'MC', 'MD', 'ME', 'MF', 'MG', 'MK', 'ML', 'MM', 'MN', 'MO', 'MQ', 'MR', 'MS', 'MT', 'MU', 'MV', 'MW', 'MX', 'MY', 'MZ', 'NA', 'NC', 'NE', 'NG', 'NI', 'NL', 'NO', 'NP', 'NR', 'NU', 'NZ', 'OM', 'PA', 'PE', 'PF', 'PG', 'PH', 'PK', 'PL', 'PM', 'PN', 'PR', 'PS', 'PT', 'PY', 'QA', 'RE', 'RO', 'RS', 'RU', 'RW', 'SA', 'SB', 'SC', 'SE', 'SG', 'SH', 'SI', 'SJ', 'SK', 'SL', 'SM', 'SN', 'SO', 'SR', 'SS', 'ST', 'SV', 'SX', 'SZ', 'TA', 'TC', 'TD', 'TF', 'TG', 'TH', 'TJ', 'TK', 'TL', 'TM', 'TN', 'TO', 'TR', 'TT', 'TV', 'TW', 'TZ', 'UA', 'UG', 'US', 'UY', 'UZ', 'VA', 'VC', 'VE', 'VG', 'VN', 'VU', 'WF', 'WS', 'XK', 'YE', 'YT', 'ZA', 'ZM', 'ZW', 'ZZ']\n\nlet stripePromise\nconst getStripe = () => {\n  if (!stripePromise) {\n    stripePromise = loadStripe(STRIPE_PUBLISHABLE_KEY)\n  }\n  return stripePromise\n}\n\nconst Checkout = ({ slug, priceID }) => {\n\n  let url = typeof window !== 'undefined' ? window.location.origin : '';\n  url = `${url}/edition/${slug}`\n\n  const [loading, setLoading] = useState(false)\n\n  const redirectToCheckout = async event => {\n    event.preventDefault()\n    setLoading(true)\n\n    const stripe = await getStripe()\n    const { error } = await stripe.redirectToCheckout({\n      mode: 'payment',\n      lineItems: [{\n        price: priceID,\n        quantity: 1\n      }],\n      shippingAddressCollection: {\n        allowedCountries: worldCountries,\n      },\n      successUrl: `${url}?checkout=success`,\n      cancelUrl: `${url}?checkout=cancel`,\n    })\n\n    if (error) {\n      console.warn('Error:', error)\n      setLoading(false)\n    }\n  }\n\n  return (\n    <button\n      disabled={loading}\n      style={\n        loading ? { ...buttonStyles, ...buttonDisabledStyles } : buttonStyles\n      }\n      onClick={redirectToCheckout}\n    >\n      Buy the edition\n    </button>\n  )\n}\n\nexport default Checkout\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport get from 'lodash/get'\nimport { GatsbyImage } from 'gatsby-plugin-image'\nimport { graphql } from 'gatsby'\n\nimport Layout from '../components/layout'\nimport ContentBlock from '../components/content-block'\nimport Slideshow from '../components/slideshow'\nimport Checkout from '../components/checkout'\n\nclass EditionTemplate extends React.Component {\n\n  getChechoutStatus = () => {\n//    console.log('location:', window.location)\n    let url = typeof window !== 'undefined' ? window.location.href : '';\n    return (url.indexOf('checkout')>0) ?\n      url.substr(url.indexOf('=')+1) : 'initial'\n  }\n\n\n  render() {\n\n//    console.log('props:', window.location)\n\n\n    const edition = get(this.props, 'data.contentfulEdition')\n//    console.log(edition);\n\n    // ––– Slideshow or featured images –––\n\n    var ImageOrSlides;\n    if (edition.editionImpressionsSlideshow != null){\n      ImageOrSlides =(\n        <Slideshow slides={edition.editionImpressionsSlideshow} length={edition.editionImpressionsSlideshow.length} />\n      );\n    }\n    else{\n      ImageOrSlides =(\n        <GatsbyImage alt=\"FeaturedImage\" image={edition.featuredImage.gatsbyImageData} aspectratio={16/9} />\n      );\n    }\n\n\n    // ––– Further Content Blocks –––\n\n    var FurtherContentBlocks;\n    if (edition.furtherInformationBlocks){\n      FurtherContentBlocks =(\n        edition.furtherInformationBlocks.map(({id, title, childContentfulContentBlockBlockContentTextNode}) => {\n          return (\n              <ContentBlock key={id} blockTitle={title} blockContent={childContentfulContentBlockBlockContentTextNode} />\n          )\n        })\n      );\n    }\n\n    // --- Checkout ---\n\n    const checkoutStatus = this.getChechoutStatus()\n    var EditionCheckout;\n\n    if (edition.stripePriceId){\n      if (checkoutStatus === 'success'){\n        EditionCheckout=(\n          <div className=\"alert alert-success\"><p><strong>Thank you for your purchase.</strong></p><p>Once we receive your payment, we will contact you for shipping details.</p><p> Enjoy the edition!</p></div>\n        )\n      }\n      else{\n        EditionCheckout = (\n          <Checkout slug={edition.slug} priceID={edition.stripePriceId} />\n        )\n      }\n    }\n\n    //==========================================================================\n\n    //                                OUTPUT\n\n    //==========================================================================\n\n    return (\n      <Layout>\n      <main>\n        <Helmet title={`${edition.title}`} />\n        <section className=\"head\">\n          <div className=\"row headline\">\n            <div className=\"col-md-12 col-sm-12 col-xs-12\">\n\n              <h1>{edition.title}</h1>\n              <div className=\"subtitle\" dangerouslySetInnerHTML={{\n                  __html: edition.subtitleShortDescription.childMarkdownRemark.html\n                }} />\n\n              {/*  ---- FEATURED IMAGE ---- */}\n\n              {ImageOrSlides}\n\n            </div>\n          </div>\n        </section>\n\n        {/*  ---- ABOUT ---- */}\n\n        <section className=\"further\">\n          <div className=\"row\">\n            <div className=\"col-md-4 col-sm-4 col-xs-12\">\n              <h2>About the edition</h2>\n              {EditionCheckout}\n            </div>\n            <div className=\"col-md-8 col-sm-8 col-xs-12\">\n              <div dangerouslySetInnerHTML={{\n                __html: edition.description.childMarkdownRemark.html\n              }} />\n            </div>\n          </div>\n        </section>\n\n        {/*  ---- ADDITIONAL BLOCKS (each a section) ---- */}\n\n        {FurtherContentBlocks}\n\n      </main>\n      </Layout>\n    )\n  }\n}\n\nexport default EditionTemplate;\n\n\n\n//==========================================================================\n\n//                                QUERY\n\n//==========================================================================\n\n\nexport const pageQuery = graphql`\n  query EditionBySlug($slug: String!) {\n    contentfulEdition(slug: { eq: $slug }) {\n      title\n      slug\n      subtitleShortDescription {\n        childMarkdownRemark {\n          html\n        }\n      }\n      description {\n        childMarkdownRemark {\n          html\n        }\n      }\n      stripePriceId\n      furtherInformationBlocks {\n        id\n        title\n        childContentfulContentBlockBlockContentTextNode {\n          id\n          childMarkdownRemark {\n            html\n          }\n        }\n      }\n      featuredImage{\n        gatsbyImageData(\n          layout: CONSTRAINED,\n          width: 1050,\n          placeholder: BLURRED,\n          quality: 100\n        )\n      }\n      editionImpressionsSlideshow{\n        gatsbyImageData(\n          layout: CONSTRAINED,\n          width: 1050,\n          placeholder: BLURRED,\n          quality: 100\n        )\n        description\n      }\n    }\n  }\n`\n"],"names":["_ref","blockTitle","blockContent","React","className","dangerouslySetInnerHTML","__html","childMarkdownRemark","html","slides","length","id","map","_ref2","index","sizes","sldto","cls","role","_ref3","gatsbyImageData","description","GatsbyImage","alt","image","aspectratio","href","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","stripePromise","loadScript","params","Promise","resolve","reject","window","document","Stripe","console","warn","script","scripts","querySelectorAll","concat","i","test","src","findScript","queryString","advancedFraudSignals","createElement","headOrBody","head","body","Error","appendChild","injectScript","addEventListener","error","stripePromise$1","then","loadCalled","err","buttonStyles","fontSize","textAlign","color","padding","letterSpacing","textTransform","border","borderRadius","background","buttonDisabledStyles","opacity","cursor","worldCountries","getStripe","_len","arguments","args","Array","_key","startTime","Date","now","maybeStripe","stripe","apply","undefined","_registerWrapper","name","version","registerWrapper","initStripe","loadStripe","process","slug","priceID","url","location","origin","loading","setLoading","useState","disabled","style","onClick","async","event","preventDefault","redirectToCheckout","mode","lineItems","price","quantity","shippingAddressCollection","allowedCountries","successUrl","cancelUrl","EditionTemplate","_React$Component","_this","call","getChechoutStatus","indexOf","substr","_inheritsLoose","prototype","render","edition","get","this","props","ImageOrSlides","FurtherContentBlocks","editionImpressionsSlideshow","Slideshow","featuredImage","furtherInformationBlocks","title","childContentfulContentBlockBlockContentTextNode","ContentBlock","key","checkoutStatus","EditionCheckout","stripePriceId","Checkout","Layout","Helmet","subtitleShortDescription"],"sourceRoot":""}